---
openapi: 3.0.1
info:
  title: Connectus API V1
  version: v1
paths:
  "/v1/addresses/countries/list":
    get:
      summary: Lista de paises
      tags:
      - Connectus v1 addresses
      description: Nos permite obtener un listado de los paises disponibles en la
        plataforma
      responses:
        '200':
          description: success!!!
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    default: true
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        currency:
                          type: string
                        name:
                          type: string
                        short:
                          type: string
                        code:
                          type: integer
                        flag_emoji:
                          type: string
                        number_length:
                          type: integer
  "/v1/test":
    get:
      summary: Retorna un json dummy para la prueba del setting API DOC
      tags:
      - Connectus v1 dummy EP
      description: Retorna un json dummy para la prueba del setting API DOC
      parameters:
      - name: is_error
        in: query
        required: false
      responses:
        '200':
          description: success!!!
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                      name:
                        type: string
        '404':
          description: error!!!
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    default: false
                  message:
                    type: string
  "/v1/users/change-password":
    post:
      summary: Retorna una confirmación de la acción
      tags:
      - Connectus v1 users
      description: Este EP valoida si el token aun esta vivo y cambia la contraseña
        anterior por la nueva
      parameters: []
      responses:
        '200':
          description: success!!!
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    default: true
                  message:
                    type: string
        '401':
          description: invalid password no match!!!
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    default: false
                  message:
                    type: string
        '403':
          description: error token expired!!!
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    default: false
                  message:
                    type: string
        '422':
          description: invalid arguments!!!
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    default: false
                  message:
                    type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                change_password:
                  type: object
                  properties:
                    recover_token:
                      type: string
                    password:
                      type: string
                    password_confirmation:
                      type: string
  "/v1/users/confirmation":
    post:
      summary: Retorna una confirmación de la acción
      tags:
      - Connectus v1 users
      description: Este EP valoida si el token es valido y activa al usuario registrado
      parameters: []
      responses:
        '200':
          description: success!!!
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    default: true
                  message:
                    type: string
        '422':
          description: token empty!!!
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    default: false
                  message:
                    type: string
        '404':
          description: token not found!!!
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    default: false
                  message:
                    type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                confirmation:
                  type: object
                  properties:
                    token:
                      type: string
  "/v1/users/recover-password":
    post:
      summary: Envia un email con el token de recuperacion
      tags:
      - Connectus v1 users
      description: Se envia el email y el password para validar la autorizacion en
        caso de ser correcta retornara un JWT que sera usado para consumir los EPs
      parameters: []
      responses:
        '200':
          description: success!!!
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    default: true
                  message:
                    type: string
        '404':
          description: error user!!!
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    default: false
                  message:
                    type: string
        '422':
          description: invalid arguments!!!
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    default: false
                  message:
                    type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                recover_password:
                  type: object
                  properties:
                    email:
                      type: string
  "/v1/users/signIn":
    post:
      summary: Retorna un JWT que sera valido durante 1 day
      tags:
      - Connectus v1 users
      description: Se envia el email y el password para validar la autorizacion en
        caso de ser correcta retornara un JWT que sera usado para consumir los EPs
      parameters: []
      responses:
        '200':
          description: success!!!
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    default: true
                  jwt:
                    type: string
        '403':
          description: error password or user is not active!!!
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    default: false
                  message:
                    type: string
        '422':
          description: invalid arguments!!!
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    default: false
                  message:
                    type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                sign_in:
                  type: object
                  properties:
                    email:
                      type: string
                    password:
                      type: string
  "/v1/users/signUp":
    post:
      summary: Creara un usuario
      tags:
      - Connectus v1 users
      description: crea un usuario el cual puede ingresar al sistema luego de su valicdacion
        via SNS
      parameters: []
      responses:
        '200':
          description: success!!!
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    default: true
                  message:
                    type: string
        '401':
          description: Email unique, campos obligatorios!!!
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    default: false
                  message:
                    type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                sign_up:
                  type: object
                  properties:
                    email:
                      type: string
                    first_name:
                      type: string
                    last_name:
                      type: string
                    password:
                      type: string
                    password_confirmation:
                      type: string
                    phone:
                      type: string
                    country_id:
                      type: integer
                    rut:
                      type: string
                    enterprise_name:
                      type: string
servers:
- url: https://{defaultHost}
  variables:
    defaultHost:
      default: localhost:3000
